<Nav::SlideBar>
    <div class="container-fluid bg-night" style="height: 1024px;">
        <div style="height: 2rem;"></div>
        <div class="container bg-form mt-4" style="max-width: 800px">
            <div class="py-4">
                <h2 data-blast="color">Nạp tiền</h2>
            </div>

            <form>
                <div class="form-group row px-3">
                    <div style="align-self: center; width: 30%">
                        <label class="mb-0" for="inputEmail3">Số tài khoản</label>
                    </div>
                    <div style="width: 70%">
                        <input type="email" class="form-control" id="inputEmail3" placeholder="10111252141">
                    </div>
                </div>
                <div class="form-group row px-3">
                    <div style="align-self: center; width: 30%">
                        <label class="mb-0" for="inputPassword3">Số dư khả dụng</label>
                    </div>
                    <div style="width: 70%">
                        <span class="text-light">4.320.000 VNĐ</span>
                    </div>
                </div>
                <hr class="font-weight-bold border-light my-4" />
                <p class="text-light">Hỗ trợ nạp tiền từ <span style="font-weight: bold;">Paypal, Stripe, ví Momo</span>
                </p>
                <div class="form-group row px-3">
                    <div style="align-self: center; width: 30%">
                        <label class="mb-0" for="inputEmail3">Ví</label>
                    </div>
                    <div style="width: 30%">
                        <select class="form-control" id="exampleFormControlSelect1">
                            <option>Paypal</option>
                            <option>Stripe</option>
                            <option>Momo</option>
                        </select>
                    </div>
                </div>
                <div class="form-group row px-3">
                    <div style="align-self: center; width: 30%">
                        <label class="mb-0" for="inputEmail3">Số tiền</label>
                    </div>
                    <div style="width: 70%">
                        <div class="input-group">
                            <input type="text" class="form-control">
                            <div class="input-group-append">
                                <span class="input-group-text">VNĐ</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-group row">
                    <div class="col-sm-10">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="gridCheck1">
                            <label class="form-check-label" for="gridCheck1">
                                Tôi đã đọc, hiểu và đồng ý <span data-blast="color">cam kết tuân thủ điều khoản, điều
                                    kiện</span> của quy định nạp
                                tiền ví điện tử qua Ngân hàng số KTBank
                            </label>
                        </div>
                    </div>
                </div>
                <a role="button" class="btn text-white theme-button mt-4 mb-4" data-blast="bgColor"
                    {{on 'click' this.charge}}>Nạp tiền</a>
            </form>
        </div>
    </div>

    <button id="checkout-button">Checkout</button>
    <script type="text/javascript">
        // Create an instance of the Stripe object with your publishable API key
        var checkoutButton = document.getElementById('checkout-button');
        var key;
        checkoutButton.addEventListener('click', async function () {
            var settings = {
                "url": "http://localhost:5000/api/stripe",
                "method": "GET",
                "timeout": 0,
            };
            await $.ajax(settings).done(function (response) {
                key = response.key;
            });
            var stripe = Stripe(key);
            // Create a new Checkout Session using the server-side endpoint you
            // created in step 3.
            fetch('http://localhost:5000/api/create-checkout-session', {
                method: 'POST',
            }).then(function (response) {
                    return response.json();
                }).then(function (session) {
                    return stripe.redirectToCheckout({ sessionId: session.id });
                }).then(function (result) {
                    if (result.error) {
                        alert(result.error.message);
                    }
                }).catch(function (error) {
                    console.error('Error:', error);
                });
        });
    </script>
</Nav::SlideBar>